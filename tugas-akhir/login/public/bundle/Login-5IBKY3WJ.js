import{b as g,c as L,d as _,e as x,f as v,g as m,h as l,i as b,j as w,k as y,l as N,n as $}from"./chunk-TJ4WF2KU.js";var k=g(_()),e=g(L());var F=()=>{let[d,f]=(0,e.useState)(!1),[n,u]=(0,e.useState)({}),[c,E]=(0,e.useState)({});(0,e.useLayoutEffect)(()=>((0,k.default)().observe(),()=>{}),[]);let p=a=>{a.preventDefault();let o={};Object.keys(n).forEach(r=>o[r]=n[r]),f(!0);let h=N("/login/submit",o,{},!0);h.then(r=>{if(typeof r>"u")return;let{data:s}=r;if(typeof s.code<"u"&&l("code",s)!==200){m(!1,l("message",s));return}if(E(s.errors),m(s.status,s.msg_response),!s.status)return;let{role:S}=s.content,t=`login/${l("token",s)}`,i=!1,I={1:i?`https://admin.tesis.ar-raniry.ac.id/${t}`:`http://localhost:8014/${t}`,2:i?`https://akademik.tesis.ar-raniry.ac.id/${t}`:`http://localhost:8015/${t}`,3:i?`https://dosen.tesis.ar-raniry.ac.id/${t}`:`http://localhost:8017/${t}`,4:i?`https://mahasiswa.tesis.ar-raniry.ac.id/${t}`:`http://localhost:8011/${t}`};window.open(I[b(S)],"_parent")}),h.finally(()=>{f(!1)})};return e.default.createElement("div",{className:"d-flex flex-column flex-column-fluid flex-lg-row"},e.default.createElement("div",{className:"d-flex flex-center w-lg-50 pt-15 pt-lg-0 px-10"},e.default.createElement("div",{className:"d-flex flex-center flex-lg-start flex-column"},e.default.createElement("a",{className:"mb-7"},e.default.createElement("img",{alt:"Logo","data-src":v("logo-uin.png"),className:"lozad"})))),e.default.createElement("div",{className:"d-flex flex-column-fluid flex-lg-row-auto justify-content-center justify-content-lg-end p-12 p-lg-20"},e.default.createElement("div",{className:"bg-body d-flex flex-column align-items-stretch flex-center rounded-4 w-md-600px p-20"},e.default.createElement("div",{className:"d-flex flex-center flex-column flex-column-fluid px-lg-10 pb-15 pb-lg-20"},e.default.createElement(x,{className:"form w-100",onSubmit:d?null:p},e.default.createElement("div",{className:"text-center mb-11"},e.default.createElement("h1",{className:"text-gray-900 fw-bolder mb-3"},"Log In"),e.default.createElement("div",{className:"text-gray-500 fw-semibold fs-6"},"Akun Sistem Anda")),y("Email/Username","username",{onChange:a=>u(o=>({...o,[a.target.name]:a.target.value})),value:l("username",n),autoFocus:!0},!0,c),$("Passsword","password",{onChange:a=>u(o=>({...o,[a.target.name]:a.target.value})),defaultValue:l("password",n)},!0,c),e.default.createElement("div",{className:"d-flex flex-stack flex-wrap gap-3 fs-base fw-semibold mb-8"},e.default.createElement("div",null),e.default.createElement("a",{href:"/metronic8/demo1/authentication/layouts/creative/reset-password.html",className:"link-primary"},"Lupa Password ?")),e.default.createElement("div",{className:"d-grid mb-10"},w("Sign In",d,{size:"lg",onClick:d?null:p})))))))},C=F;export{C as default};
