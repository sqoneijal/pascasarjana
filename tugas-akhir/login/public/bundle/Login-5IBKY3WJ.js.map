{
  "version": 3,
  "sources": ["../../src/Login.jsx"],
  "sourcesContent": ["import lozad from \"lozad\";\nimport React, { useLayoutEffect, useState } from \"react\";\nimport { Form } from \"react-bootstrap\";\nimport * as h from \"~/Helpers\";\n\nconst Login = () => {\n   // bool\n   const [isSubmit, setIsSubmit] = useState(false);\n\n   // object\n   const [input, setInput] = useState({});\n   const [errors, setErrors] = useState({});\n\n   useLayoutEffect(() => {\n      lozad().observe();\n      return () => {};\n   }, []);\n\n   const submit = (e) => {\n      e.preventDefault();\n      const formData = {};\n      Object.keys(input).forEach((key) => (formData[key] = input[key]));\n\n      setIsSubmit(true);\n      const fetch = h.post(`/login/submit`, formData, {}, true);\n      fetch.then((res) => {\n         if (typeof res === \"undefined\") return;\n\n         const { data } = res;\n         if (typeof data.code !== \"undefined\" && h.parse(\"code\", data) !== 200) {\n            h.notification(false, h.parse(\"message\", data));\n            return;\n         }\n\n         setErrors(data.errors);\n         h.notification(data.status, data.msg_response);\n\n         if (!data.status) return;\n\n         const { role } = data.content;\n\n         const loginToken = `login/${h.parse(\"token\", data)}`;\n         const deploy = process.env.NODE_ENV === \"deploy\";\n\n         const roleRedirect = {\n            1: deploy ? `https://admin.tesis.ar-raniry.ac.id/${loginToken}` : `http://localhost:8014/${loginToken}`,\n            2: deploy ? `https://akademik.tesis.ar-raniry.ac.id/${loginToken}` : `http://localhost:8015/${loginToken}`,\n            3: deploy ? `https://dosen.tesis.ar-raniry.ac.id/${loginToken}` : `http://localhost:8017/${loginToken}`,\n            4: deploy ? `https://mahasiswa.tesis.ar-raniry.ac.id/${loginToken}` : `http://localhost:8011/${loginToken}`,\n         };\n\n         window.open(roleRedirect[h.toInt(role)], \"_parent\");\n      });\n      fetch.finally(() => {\n         setIsSubmit(false);\n      });\n   };\n\n   return (\n      <div className=\"d-flex flex-column flex-column-fluid flex-lg-row\">\n         <div className=\"d-flex flex-center w-lg-50 pt-15 pt-lg-0 px-10\">\n            <div className=\"d-flex flex-center flex-lg-start flex-column\">\n               <a className=\"mb-7\">\n                  <img alt=\"Logo\" data-src={h.getFile(\"logo-uin.png\")} className=\"lozad\" />\n               </a>\n            </div>\n         </div>\n         <div className=\"d-flex flex-column-fluid flex-lg-row-auto justify-content-center justify-content-lg-end p-12 p-lg-20\">\n            <div className=\"bg-body d-flex flex-column align-items-stretch flex-center rounded-4 w-md-600px p-20\">\n               <div className=\"d-flex flex-center flex-column flex-column-fluid px-lg-10 pb-15 pb-lg-20\">\n                  <Form className=\"form w-100\" onSubmit={isSubmit ? null : submit}>\n                     <div className=\"text-center mb-11\">\n                        <h1 className=\"text-gray-900 fw-bolder mb-3\">Log In</h1>\n                        <div className=\"text-gray-500 fw-semibold fs-6\">Akun Sistem Anda</div>\n                     </div>\n                     {h.form_text(\n                        `Email/Username`,\n                        `username`,\n                        {\n                           onChange: (e) => setInput((prev) => ({ ...prev, [e.target.name]: e.target.value })),\n                           value: h.parse(`username`, input),\n                           autoFocus: true,\n                        },\n                        true,\n                        errors\n                     )}\n                     {h.form_password(\n                        `Passsword`,\n                        `password`,\n                        {\n                           onChange: (e) => setInput((prev) => ({ ...prev, [e.target.name]: e.target.value })),\n                           defaultValue: h.parse(`password`, input),\n                        },\n                        true,\n                        errors\n                     )}\n                     <div className=\"d-flex flex-stack flex-wrap gap-3 fs-base fw-semibold mb-8\">\n                        <div />\n                        <a href=\"/metronic8/demo1/authentication/layouts/creative/reset-password.html\" className=\"link-primary\">\n                           Lupa Password ?\n                        </a>\n                     </div>\n                     <div className=\"d-grid mb-10\">\n                        {h.buttons(\"Sign In\", isSubmit, {\n                           size: \"lg\",\n                           onClick: isSubmit ? null : submit,\n                        })}\n                     </div>\n                  </Form>\n               </div>\n            </div>\n         </div>\n      </div>\n   );\n};\nexport default Login;\n"],
  "mappings": "qHAAA,IAAAA,EAAkB,OAClBC,EAAiD,OAIjD,IAAMC,EAAQ,IAAM,CAEjB,GAAM,CAACC,EAAUC,CAAW,KAAI,YAAS,EAAK,EAGxC,CAACC,EAAOC,CAAQ,KAAI,YAAS,CAAC,CAAC,EAC/B,CAACC,EAAQC,CAAS,KAAI,YAAS,CAAC,CAAC,KAEvC,mBAAgB,QACb,EAAAC,SAAM,EAAE,QAAQ,EACT,IAAM,CAAC,GACd,CAAC,CAAC,EAEL,IAAMC,EAAUC,GAAM,CACnBA,EAAE,eAAe,EACjB,IAAMC,EAAW,CAAC,EAClB,OAAO,KAAKP,CAAK,EAAE,QAASQ,GAASD,EAASC,CAAG,EAAIR,EAAMQ,CAAG,CAAE,EAEhET,EAAY,EAAI,EAChB,IAAMU,EAAUC,EAAK,gBAAiBH,EAAU,CAAC,EAAG,EAAI,EACxDE,EAAM,KAAME,GAAQ,CACjB,GAAI,OAAOA,EAAQ,IAAa,OAEhC,GAAM,CAAE,KAAAC,CAAK,EAAID,EACjB,GAAI,OAAOC,EAAK,KAAS,KAAiBC,EAAM,OAAQD,CAAI,IAAM,IAAK,CAClEE,EAAa,GAASD,EAAM,UAAWD,CAAI,CAAC,EAC9C,MACH,CAKA,GAHAT,EAAUS,EAAK,MAAM,EACnBE,EAAaF,EAAK,OAAQA,EAAK,YAAY,EAEzC,CAACA,EAAK,OAAQ,OAElB,GAAM,CAAE,KAAAG,CAAK,EAAIH,EAAK,QAEhBI,EAAa,SAAWH,EAAM,QAASD,CAAI,CAAC,GAC5CK,EAAS,GAETC,EAAe,CAClB,EAAGD,EAAS,uCAAuCD,CAAU,GAAK,yBAAyBA,CAAU,GACrG,EAAGC,EAAS,0CAA0CD,CAAU,GAAK,yBAAyBA,CAAU,GACxG,EAAGC,EAAS,uCAAuCD,CAAU,GAAK,yBAAyBA,CAAU,GACrG,EAAGC,EAAS,2CAA2CD,CAAU,GAAK,yBAAyBA,CAAU,EAC5G,EAEA,OAAO,KAAKE,EAAeC,EAAMJ,CAAI,CAAC,EAAG,SAAS,CACrD,CAAC,EACDN,EAAM,QAAQ,IAAM,CACjBV,EAAY,EAAK,CACpB,CAAC,CACJ,EAEA,OACG,EAAAqB,QAAA,cAAC,OAAI,UAAU,oDACZ,EAAAA,QAAA,cAAC,OAAI,UAAU,kDACZ,EAAAA,QAAA,cAAC,OAAI,UAAU,gDACZ,EAAAA,QAAA,cAAC,KAAE,UAAU,QACV,EAAAA,QAAA,cAAC,OAAI,IAAI,OAAO,WAAYC,EAAQ,cAAc,EAAG,UAAU,QAAQ,CAC1E,CACH,CACH,EACA,EAAAD,QAAA,cAAC,OAAI,UAAU,wGACZ,EAAAA,QAAA,cAAC,OAAI,UAAU,wFACZ,EAAAA,QAAA,cAAC,OAAI,UAAU,4EACZ,EAAAA,QAAA,cAACE,EAAA,CAAK,UAAU,aAAa,SAAUxB,EAAW,KAAOO,GACtD,EAAAe,QAAA,cAAC,OAAI,UAAU,qBACZ,EAAAA,QAAA,cAAC,MAAG,UAAU,gCAA+B,QAAM,EACnD,EAAAA,QAAA,cAAC,OAAI,UAAU,kCAAiC,kBAAgB,CACnE,EACGG,EACA,iBACA,WACA,CACG,SAAWjB,GAAML,EAAUuB,IAAU,CAAE,GAAGA,EAAM,CAAClB,EAAE,OAAO,IAAI,EAAGA,EAAE,OAAO,KAAM,EAAE,EAClF,MAASO,EAAM,WAAYb,CAAK,EAChC,UAAW,EACd,EACA,GACAE,CACH,EACGuB,EACA,YACA,WACA,CACG,SAAWnB,GAAML,EAAUuB,IAAU,CAAE,GAAGA,EAAM,CAAClB,EAAE,OAAO,IAAI,EAAGA,EAAE,OAAO,KAAM,EAAE,EAClF,aAAgBO,EAAM,WAAYb,CAAK,CAC1C,EACA,GACAE,CACH,EACA,EAAAkB,QAAA,cAAC,OAAI,UAAU,8DACZ,EAAAA,QAAA,cAAC,UAAI,EACL,EAAAA,QAAA,cAAC,KAAE,KAAK,uEAAuE,UAAU,gBAAe,iBAExG,CACH,EACA,EAAAA,QAAA,cAAC,OAAI,UAAU,gBACTM,EAAQ,UAAW5B,EAAU,CAC7B,KAAM,KACN,QAASA,EAAW,KAAOO,CAC9B,CAAC,CACJ,CACH,CACH,CACH,CACH,CACH,CAEN,EACOsB,EAAQ9B",
  "names": ["import_lozad", "import_react", "Login", "isSubmit", "setIsSubmit", "input", "setInput", "errors", "setErrors", "lozad", "submit", "e", "formData", "key", "fetch", "post", "res", "data", "parse", "notification", "role", "loginToken", "deploy", "roleRedirect", "toInt", "React", "getFile", "Form_default", "form_text", "prev", "form_password", "buttons", "Login_default"]
}
